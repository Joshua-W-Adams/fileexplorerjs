{"version":3,"sources":["webpack://fileexplorerjs/webpack/bootstrap","webpack://fileexplorerjs/external \"http\"","webpack://fileexplorerjs/./index.js","webpack://fileexplorerjs/./src/js sync ^\\.\\/.*\\.js$","webpack://fileexplorerjs/./src/js/fileexplorerjs.js","webpack://fileexplorerjs/external \"breadcrumbjs\"","webpack://fileexplorerjs/external \"inputator\"","webpack://fileexplorerjs/external \"treeator\"","webpack://fileexplorerjs/external \"tableator\"","webpack://fileexplorerjs/external \"contextmenuator\"","webpack://fileexplorerjs/external \"modalator\"","webpack://fileexplorerjs/./src/js/tests.js"],"names":["pkg","require","module","exports","name","breadcrumbjs","inputator","treeator","tableator","contextmenuator","modalator","http","_fileExplorerConfig","_fileExplorerDataModel","_fileExplorerFolderView","dataModelIndex","data","_modal","_applyRender","element","properties","arr","Object","keys","i","length","prop","assign","_findPositionInTree","filePath","pos","FILE_PATH","_findParent","ICON_TYPE","DATA_DEPTH","_getFileList","inputElement","files","fileList","document","createElement","style","listStyleType","file","li","innerHTML","padding","appendChild","_addEmptyRow","file_path","row","NAME","SIZE","LAST_EDIT_DATE","push","_getBreadCrumbFilePath","items","position","item","_updateTreeClickedItem","table","getElementById","tr","getElementsByTagName","onClickDefault","onDblClickDefault","_getBreadcrumb","bc","ui","breadcrumbDiv","firstChild","removeChild","lastChild","breadCrumbOptions","div","breadcrumbs","init","_reloadTable","matchedRow","children","getChildren","folderData","_getFolderView","parentPos","_reloadBreadCrumb","split","onClick","_handleResponse","changeType","passed","failed","STATUS","_updateUserInterface","_addFileFormOnClick","form","dir","formData","FormData","options","method","url","action","payload","headers","directory","sendRequest","then","res","JSON","parse","_displaySelectedFiles","displayElementId","e","_selectFilesButtonRenderer","type","multiple","id","display","label","htmlFor","onchange","_getAddFileFormConfig","restApi","config","child","content","value","onsubmit","onclick","_getInput","input","render","boxSizing","width","border","borderRadius","backgroundColor","_getCurrentDirectory","_addFolderOnClick","folder","api","add","stringify","hide","_getAddFolderFormConfig","_stripLastItem","stripped","_deleteItemOnClick","state","getState","onMouseDownRow","_getDeleteFormConfig","tableState","deleteItem","_renameItemOnClick","newName","OLD_DIR","OLD_FILE","NEW_DIR","NEW_FILE","TYPE","OLD_FOLDER","NEW_FOLDER","update","_getRenameFormConfig","renameItem","renameWarningDiv","_showForm","remove","modal","buildModal","show","_addFile","_addFolder","_delete","_rename","_downloadFile","onHoverRow","fileName","link","download","href","click","_getContextMenu","tableDiv","Download","Add","Folder","File","Delete","Rename","displayNames","sourceNames","names","widths","alignment","rows","rowTypeIcons","cells","onDblClick","td","rowNo","rowData","treePos","_getFileFolderDetails","change","o","oldFilePath","newFilePath","_getUpdateRecord","d","updates","property","childUpdates","findStartsWithString","replaceString","htmlUpdates","column","_getAddRecord","tableDepth","tableIndex","findLastChild","_getDeleteRecord","_updateTree","records","appendTreeRecords","removeTreeRecords","updateTreeRecords","changes","record","splice","index","updateRecord","_getTree","treeOptions","tree","treeDiv","columns","newNames","search","treeSearchDiv","_getToolbarSearch","toolbarSearchOptions","tableSearchDiv","renderer","inputRenderer","placeholder","textIndent","onKeyUp","searchTable","icon","_getTreeSearch","treeSearchOptions","defaultTreeSearchValue","_getFileSystemData"],"mappings":"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d;AACD,GAXD;AAYD;AAED;;;AAEA7B,MAAM,CAACC,OAAP,GAAiB;AACfyE,MAAI,EAAJA;AADe,CAAjB,C;;;;;;AC3hCA,8B;;;;;;ACAA,2B;;;;;;ACAA,0B;;;;;;ACAA,2B;;;;;;ACAA,iC;;;;;;ACAA,2B;;;;;;ACAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA,K","file":"fileexplorerjs.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = http;","/*!\r\n * npm Entry File\r\n * (c) 2020 Joshua Adams\r\n */\r\n\r\n/**\r\n * index.js is the default 'entry file' for npm.\r\n * This means that any require('package name') or import 'package name'\r\n * statements will refer to this file.\r\n */\r\nconst pkg = require('./package.json');\r\n// export a file with the same name as the package by default\r\nmodule.exports = require(`./src/js/${pkg.name}.js`);","var map = {\n\t\"./fileexplorerjs.js\": 4,\n\t\"./http.js\": 0,\n\t\"./tests.js\": 11\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 3;","/*!\r\n * Fileexplorerjs\r\n * A JavaScript GUI module for exploring file systems\r\n * (c) 2020 Joshua Adams\r\n */\r\n\r\n/* ============================== Import Modules ============================ */\r\n\r\n// import node modules\r\nlet breadcrumbjs = require('breadcrumbjs');\r\nlet inputator = require('inputator');\r\nlet treeator = require('treeator');\r\nlet tableator = require('tableator');\r\nlet contextmenuator = require('contextmenuator');\r\nlet modalator = require('modalator');\r\n\r\n// import local modules\r\nlet http = require('./http.js');\r\n\r\n/* ================================ Variables =============================== */\r\n\r\n// *** private module variables ***\r\n// stores the passed configuration object for the file explorer view\r\nlet _fileExplorerConfig;\r\n// master file explorer data model\r\nlet _fileExplorerDataModel = [];\r\n// store the state of the folder view\r\nlet _fileExplorerFolderView = {\r\n  // location of the displayed folder in the data model\r\n  dataModelIndex: null,\r\n  // folder data currently displayed\r\n  data: null\r\n};\r\n// store modal state\r\nlet _modal;\r\n\r\n/* ============================= Private Methods ============================ */\r\n\r\nfunction _applyRender(element, properties) {\r\n  const arr = Object.keys(properties);\r\n  for (let i = 0; i < arr.length; i++) {\r\n    const prop = arr[i];\r\n    if (typeof properties[prop] === 'object' && properties[prop] !== null) {\r\n      Object.assign(element[prop], properties[prop]);\r\n    } else {\r\n      element[prop] = properties[prop];\r\n    }\r\n  }\r\n  return element;\r\n}\r\n\r\nfunction _findPositionInTree(filePath, data) {\r\n  let pos;\r\n  for (let i = 0; i < data.length; i++) {\r\n    if (data[i].FILE_PATH === filePath) {\r\n      pos = i;\r\n      return pos;\r\n    }\r\n  }\r\n  return pos;\r\n}\r\n\r\nfunction _findParent(pos, data) {\r\n  for (let i = pos - 1; i > -1; i--) {\r\n    if (data[i].ICON_TYPE === 'folder' && data[i].DATA_DEPTH === data[pos].DATA_DEPTH - 1) {\r\n      return i;\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nfunction _getFileList(inputElement) {\r\n  // get list of files\r\n  const files = inputElement.files;\r\n  // create list to load files into\r\n  const fileList = document.createElement('ol');\r\n  // style list\r\n  fileList.style.listStyleType = 'none';\r\n  // add list items to file list\r\n  for (let i = 0; i < files.length; i++) {\r\n    const file = files[i];\r\n    const li = document.createElement('li');\r\n    li.innerHTML = file.name;\r\n    li.style.padding = '10px 0px';\r\n    fileList.appendChild(li);\r\n  }\r\n  return fileList;\r\n}\r\n\r\nfunction _addEmptyRow(arr, file_path) {\r\n  // get empty row of data to always be displayed to user\r\n  const row = {\r\n    DATA_DEPTH: '',\r\n    ICON_TYPE: '',\r\n    NAME: 'add new item',\r\n    SIZE: '',\r\n    LAST_EDIT_DATE: '',\r\n    FILE_PATH: file_path\r\n  };\r\n  // push row to array\r\n  arr.push(row);\r\n  return arr;\r\n}\r\n\r\nfunction _getBreadCrumbFilePath(items, position) {\r\n  let filePath = '';\r\n  for (let i = 0; i <= position; i++) {\r\n    if (i === position) {\r\n      filePath = `${filePath}${items[i].item}`;\r\n    } else {\r\n      filePath = `${filePath}${items[i].item}/`;\r\n    }\r\n  }\r\n  return filePath;\r\n}\r\n\r\nfunction _updateTreeClickedItem(pos) {\r\n  // update tree single & double clicked rows\r\n  const table = document.getElementById('treeator-tree');\r\n  const tr = table.getElementsByTagName('tr');\r\n  treeator.onClickDefault(tr[pos]);\r\n  treeator.onDblClickDefault(tr[pos]);\r\n}\r\n\r\nfunction _getBreadcrumb(items) {\r\n  // destroy current breadcrumb\r\n  const bc = document.getElementById(_fileExplorerConfig.ui.breadcrumbDiv);\r\n  while (bc.firstChild) {\r\n    bc.removeChild(bc.lastChild);\r\n  }\r\n  // construct new breadcrumb\r\n  const breadCrumbOptions = {\r\n    div: _fileExplorerConfig.ui.breadcrumbDiv,\r\n    breadcrumbs: {\r\n      items: items\r\n    }\r\n  };\r\n  breadcrumbjs.init(breadCrumbOptions);\r\n}\r\n\r\nfunction _reloadTable(matchedRow, pos, data) {\r\n  if (matchedRow.ICON_TYPE === 'folder') {\r\n    // get all children of current row\r\n    const children = treeator.getChildren(pos, data);\r\n    const folderData = _addEmptyRow(children, data[pos].FILE_PATH);\r\n    _getFolderView(pos, folderData);\r\n  } else {\r\n    const parentPos = _findParent(pos, data);\r\n    // get all children of current row\r\n    const children = treeator.getChildren(parentPos, data);\r\n    const folderData = _addEmptyRow(children, data[parentPos].FILE_PATH);\r\n    _getFolderView(parentPos, folderData);\r\n  }\r\n}\r\n\r\nfunction _reloadBreadCrumb(row, data) {\r\n  // create breadcrumb\r\n  const arr = row.FILE_PATH.split('/');\r\n  const items = [];\r\n  for (let i = 0; i < arr.length; i++) {\r\n    const row = {\r\n      item: arr[i],\r\n      onClick: function (li, items, position) {\r\n        // get filePath to lookup in tree array\r\n        const filePath = _getBreadCrumbFilePath(items, position);\r\n        // find position of filePath in tree data\r\n        const pos = _findPositionInTree(filePath, data);\r\n        // Update tree\r\n        _updateTreeClickedItem(pos);\r\n        // Update table\r\n        _reloadTable(data[pos], pos, data);\r\n      }\r\n    };\r\n    items.push(row);\r\n  }\r\n  _getBreadcrumb(items);\r\n}\r\n\r\nfunction _handleResponse(data, changeType) {\r\n  if (data) {\r\n    const passed = [];\r\n    const failed = [];\r\n    for (let i = 0; i < data.length; i++) {\r\n      const row = data[i];\r\n      // handle success and failure of file operations\r\n      // pass of operation\r\n      if (row.STATUS === 'pass') {\r\n        // update data model with appropriate crud operation\r\n        passed.push(row);\r\n      // failure of operation\r\n      } else {\r\n        failed.push(row);\r\n      }\r\n    }\r\n    // regenerate file explorer view after all operations have been processed\r\n    if (passed.length > 0) {\r\n      _updateUserInterface(passed, changeType);\r\n    }\r\n    // TO DO - Inform user of failed operation\r\n    if (failed.length > 0) {\r\n\r\n    }\r\n  } else {\r\n    // unknown error in response from server\r\n    // TO DO - Inform user of failed update\r\n  }\r\n}\r\n\r\nfunction _addFileFormOnClick(form, dir) {\r\n  return function () {\r\n    // get form data model for submission to server\r\n    const formData = new FormData(form);\r\n    // define http request\r\n    const options = {\r\n      method: 'POST',\r\n      url: form.action,\r\n      payload: formData,\r\n      headers: {\r\n        // content type automatically assigned by form data\r\n        // 'Content-Type': null\r\n        directory: dir\r\n      }\r\n    };\r\n    const files = document.getElementById('selectFilesButton').files;\r\n    // Only submit request to server when files have been selected by user\r\n    if (files.length > 0) {\r\n      // send ajax request to server\r\n      http.sendRequest(options).then(function (res) {\r\n        const data = JSON.parse(res);\r\n        _handleResponse(data, 'add');\r\n      });\r\n    }\r\n    return false; // To avoid actual submission of the form\r\n  };\r\n}\r\n\r\nfunction _displaySelectedFiles(inputElement, displayElementId) {\r\n  // generate file list element from user selected files\r\n  const fileList = _getFileList(inputElement);\r\n  // get element to display file list in\r\n  const e = document.getElementById(displayElementId);\r\n  // remove previous items\r\n  e.innerHTML = '';\r\n  // assign file list to span\r\n  e.appendChild(fileList);\r\n}\r\n\r\nfunction _selectFilesButtonRenderer() {\r\n  // create input element for file selector\r\n  const e = document.createElement('input');\r\n  e.type = 'file';\r\n  e.multiple = 'multiple';\r\n  e.id = 'selectFilesButton';\r\n  // http request function requires a name for submission\r\n  e.name = 'uploadFiles';\r\n  e.style.display = 'none';\r\n  // custom label to override default input style\r\n  const label = document.createElement('label');\r\n  label.htmlFor = 'selectFilesButton';\r\n  label.innerHTML = 'Select Files';\r\n  label.style.display = 'inline-block';\r\n  // add function for assigning list of files on change\r\n  e.onchange = function () {\r\n    _displaySelectedFiles(e, 'dialog_body');\r\n  };\r\n  // build element object model\r\n  label.appendChild(e);\r\n  return label;\r\n}\r\n\r\nfunction _getAddFileFormConfig(restApi, dir) {\r\n  const config = [{\r\n    name: 'modal',\r\n    child: [{\r\n      name: 'dialog',\r\n      child: [{\r\n        name: 'dialog_header',\r\n        child: [{\r\n          name: 'dialog_header_title',\r\n          element: {\r\n            content: 'Upload Files'\r\n          }\r\n        }]\r\n      }, {\r\n        name: 'dialog_footer',\r\n        element: {\r\n          value: function () {\r\n            const form = document.createElement('form');\r\n            form.action = restApi;\r\n            form.onsubmit = _addFileFormOnClick(form, dir);\r\n            return form;\r\n          }\r\n        },\r\n        child: [{\r\n          name: 'dialog_footer_child',\r\n          child: [{\r\n            name: 'dialog_footer_button_two',\r\n            element: {\r\n              value: function () {\r\n                return _selectFilesButtonRenderer();\r\n              }\r\n            },\r\n            // disable default onclick function to close form\r\n            onclick: function () {},\r\n          }, {\r\n            name: 'dialog_footer_button_one',\r\n            element: {\r\n              value: function () {\r\n                const e = document.createElement('input');\r\n                e.type = 'submit';\r\n                e.value = 'Upload Files';\r\n                return e;\r\n              }\r\n            },\r\n            style: function () {\r\n              const properties = {\r\n                'background-color': '#5a6268',\r\n                'font-family': 'Gotham SSm, Helvetica, Arial, sans-serif',\r\n                'font-size': '16px'\r\n              };\r\n              return properties;\r\n            }\r\n          }]\r\n        }]\r\n      }]\r\n    }]\r\n  }];\r\n  return config;\r\n}\r\n\r\nfunction _getInput() {\r\n  const input = document.createElement('input');\r\n  const render = {\r\n    style: {\r\n      'font-size': '16px',\r\n      'font-family': 'roboto',\r\n      padding: '10px',\r\n      boxSizing: 'border-box',\r\n      width: '100%',\r\n      border: 'solid 1px rgba(0,0,0,.125)',\r\n      borderRadius: '3px',\r\n      backgroundColor: 'rgba(241,243,244,1)'\r\n    }\r\n  };\r\n  _applyRender(input, render);\r\n  return input;\r\n}\r\n\r\nfunction _getCurrentDirectory() {\r\n  let dir = '';\r\n  // check if folder view has been loaded\r\n  if (_fileExplorerFolderView.dataModelIndex || _fileExplorerFolderView.dataModelIndex === 0) {\r\n    dir = _fileExplorerDataModel[_fileExplorerFolderView.dataModelIndex].FILE_PATH;\r\n  }\r\n  return dir;\r\n}\r\n\r\nfunction _addFolderOnClick(dir, folder) {\r\n  // define request config\r\n  const options = {\r\n    method: 'POST',\r\n    url: `${_fileExplorerConfig.api.add}/folder`,\r\n    payload: JSON.stringify([{\r\n      dir: dir,\r\n      folder: folder\r\n    }]),\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  };\r\n  // send ajax request to server\r\n  http.sendRequest(options).then(function (res) {\r\n    const data = JSON.parse(res);\r\n    _handleResponse(data, 'add');\r\n  });\r\n  // close modal\r\n  _modal.hide();\r\n}\r\n\r\nfunction _getAddFolderFormConfig() {\r\n  const input = _getInput();\r\n  const config = [{\r\n    name: 'modal',\r\n    child: [{\r\n      name: 'dialog',\r\n      child: [{\r\n        name: 'dialog_header',\r\n        child: [{\r\n          name: 'dialog_header_title',\r\n          element: {\r\n            content: 'Add Folder'\r\n          }\r\n        }]\r\n      }, {\r\n        name: 'dialog_body',\r\n        element: {\r\n          value: function () {\r\n            const div = document.createElement('div');\r\n            div.appendChild(input);\r\n            return div;\r\n          }\r\n        },\r\n        style: 'min-height:40px;'\r\n      }, {\r\n        name: 'dialog_footer',\r\n        child: [{\r\n          name: 'dialog_footer_child',\r\n          child: [{\r\n            name: 'dialog_footer_button_two',\r\n            style: 'display:none;'\r\n          }, {\r\n            name: 'dialog_footer_button_one',\r\n            element: {\r\n              content: 'Add Folder'\r\n            },\r\n            style: 'background-color:#007bff;',\r\n            onclick: function () {\r\n              const folder = input.value;\r\n              const dir = _getCurrentDirectory();\r\n              _addFolderOnClick(dir, folder);\r\n            }\r\n          }]\r\n        }]\r\n      }]\r\n    }]\r\n  }];\r\n  return config;\r\n}\r\n\r\nfunction _stripLastItem(filePath) {\r\n  const arr = filePath.split('/');\r\n  let stripped = '';\r\n  for (let i = 0; i < arr.length - 1; i++) {\r\n    const row = arr[i];\r\n    if (row && row !== '') {\r\n      if (stripped !== '') {\r\n        stripped += `/${arr[i]}`;\r\n      } else {\r\n        stripped += `${arr[i]}`;\r\n      }\r\n    }\r\n  }\r\n  return stripped;\r\n}\r\n\r\nfunction _deleteItemOnClick() {\r\n  const state = tableator.getState();\r\n  const onMouseDownRow = state.onMouseDownRow;\r\n  const item = onMouseDownRow.data;\r\n  // tableator must have had a hovered row assigned to attempt deletion\r\n  if (item) {\r\n    const type = item.ICON_TYPE;\r\n    let payload;\r\n    if (type === 'file') {\r\n      payload = [{\r\n        dir: _stripLastItem(item.FILE_PATH),\r\n        file: item.NAME\r\n      }];\r\n    } else if (type === 'folder') {\r\n      payload = [{\r\n        dir: _stripLastItem(item.FILE_PATH),\r\n        folder: item.NAME\r\n      }];\r\n    }\r\n    // define request config\r\n    const options = {\r\n      method: 'POST',\r\n      url: `${_fileExplorerConfig.api.delete}/${type}`,\r\n      payload: JSON.stringify(payload),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    // send ajax request to server\r\n    http.sendRequest(options).then(function (res) {\r\n      const data = JSON.parse(res);\r\n      _handleResponse(data, 'delete');\r\n    });\r\n  }\r\n  // close modal\r\n  _modal.hide();\r\n}\r\n\r\nfunction _getDeleteFormConfig() {\r\n  const tableState = tableator.getState();\r\n  const deleteItem = tableState.onMouseDownRow.data;\r\n  const config = [{\r\n    name: 'modal',\r\n    child: [{\r\n      name: 'dialog',\r\n      child: [{\r\n        name: 'dialog_header',\r\n        child: [{\r\n          name: 'dialog_header_title',\r\n          element: {\r\n            content: 'Delete Item'\r\n          }\r\n        }]\r\n      }, {\r\n        name: 'dialog_body',\r\n        element: {\r\n          value: function () {\r\n            const div = document.createElement('div');\r\n            div.innerHTML = `Are you sure you want to delete to following item?\r\n              <br></br><br>${deleteItem.NAME}</br><br></br>\r\n              This action is irreversible.`;\r\n            return div;\r\n          }\r\n        },\r\n        style: 'min-height:40px;'\r\n      }, {\r\n        name: 'dialog_footer',\r\n        child: [{\r\n          name: 'dialog_footer_child',\r\n          child: [{\r\n            name: 'dialog_footer_button_two',\r\n            style: 'display:none;'\r\n          }, {\r\n            name: 'dialog_footer_button_one',\r\n            element: {\r\n              content: 'Delete Item'\r\n            },\r\n            style: 'background-color: red;',\r\n            onclick: _deleteItemOnClick\r\n          }]\r\n        }]\r\n      }]\r\n    }]\r\n  }];\r\n  return config;\r\n}\r\n\r\nfunction _renameItemOnClick(item, newName) {\r\n  // tableator must have had a hovered row assigned to attempt rename\r\n  if (item) {\r\n    const type = item.ICON_TYPE;\r\n    let payload;\r\n    const filePath = _stripLastItem(item.FILE_PATH);\r\n    if (type === 'file') {\r\n      payload = [{\r\n        OLD_DIR: filePath,\r\n        OLD_FILE: item.NAME,\r\n        NEW_DIR: filePath,\r\n        NEW_FILE: newName,\r\n        TYPE: 'file'\r\n      }];\r\n    } else if (type === 'folder') {\r\n      payload = [{\r\n        OLD_DIR: filePath,\r\n        OLD_FOLDER: item.NAME,\r\n        NEW_DIR: filePath,\r\n        NEW_FOLDER: newName,\r\n        TYPE: 'folder'\r\n      }];\r\n    }\r\n    // define request config\r\n    const options = {\r\n      method: 'POST',\r\n      url: `${_fileExplorerConfig.api.update}/${type}`,\r\n      payload: JSON.stringify(payload),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    // send ajax request to server\r\n    http.sendRequest(options).then(function (res) {\r\n      const data = JSON.parse(res);\r\n      _handleResponse(data, 'update');\r\n    });\r\n  }\r\n  // close modal\r\n  _modal.hide();\r\n}\r\n\r\nfunction _getRenameFormConfig() {\r\n  const input = _getInput();\r\n  const tableState = tableator.getState();\r\n  const renameItem = tableState.onMouseDownRow.data;\r\n  const config = [{\r\n    name: 'modal',\r\n    child: [{\r\n      name: 'dialog',\r\n      child: [{\r\n        name: 'dialog_header',\r\n        child: [{\r\n          name: 'dialog_header_title',\r\n          element: {\r\n            content: 'Rename Item'\r\n          }\r\n        }]\r\n      }, {\r\n        name: 'dialog_body',\r\n        element: {\r\n          value: function () {\r\n            const div = document.createElement('div');\r\n            // add a warning that the current item is about to be renamed\r\n            const renameWarningDiv = document.createElement('div');\r\n            div.innerHTML = `Are you sure you want to rename the following item?\r\n              <br></br><br>${renameItem.NAME}</br><br></br>\r\n              This action is irreversible.<br></br>`;\r\n            div.appendChild(renameWarningDiv);\r\n            // add input for user to place new name into\r\n            div.appendChild(input);\r\n            return div;\r\n          }\r\n        },\r\n        style: 'min-height:40px;'\r\n      }, {\r\n        name: 'dialog_footer',\r\n        child: [{\r\n          name: 'dialog_footer_child',\r\n          child: [{\r\n            name: 'dialog_footer_button_two',\r\n            style: 'display:none;'\r\n          }, {\r\n            name: 'dialog_footer_button_one',\r\n            element: {\r\n              content: 'Rename Item'\r\n            },\r\n            style: 'background-color:red;',\r\n            onclick: function () {\r\n              const newName = input.value;\r\n              _renameItemOnClick(renameItem, newName);\r\n            }\r\n          }]\r\n        }]\r\n      }]\r\n    }]\r\n  }];\r\n  return config;\r\n}\r\n\r\nfunction _showForm(config) {\r\n  if (_modal) {\r\n    // remove any existing modal from DOM\r\n    _modal.remove();\r\n  }\r\n  // create modal\r\n  const modal = modalator.buildModal(config);\r\n  // display modal\r\n  modal.show();\r\n  // save modal in private variable for tracking state\r\n  _modal = modal;\r\n}\r\n\r\nfunction _addFile() {\r\n  const restApi = `${_fileExplorerConfig.api.add}/file`;\r\n  // get directory for adding files to\r\n  const dir = _getCurrentDirectory();\r\n  // define modal configuration\r\n  const config = _getAddFileFormConfig(restApi, dir);\r\n  _showForm(config);\r\n}\r\n\r\nfunction _addFolder() {\r\n  const config = _getAddFolderFormConfig();\r\n  _showForm(config);\r\n}\r\n\r\nfunction _delete() {\r\n  const config = _getDeleteFormConfig();\r\n  _showForm(config);\r\n}\r\n\r\nfunction _rename() {\r\n  const config = _getRenameFormConfig();\r\n  _showForm(config);\r\n}\r\n\r\nfunction _downloadFile() {\r\n  // get state of tableator\r\n  const state = tableator.getState();\r\n  const onHoverRow = state.onHoverRow;\r\n  const filePath = onHoverRow.data.FILE_PATH;\r\n  const fileName = onHoverRow.data.NAME;\r\n  const type = onHoverRow.data.ICON_TYPE;\r\n  if (fileName && filePath && type === 'file') {\r\n    const link = document.createElement('a');\r\n    link.download = fileName;\r\n    link.href = `${_fileExplorerConfig.api.download}${filePath}`;\r\n    link.click();\r\n    link.remove();\r\n  }\r\n}\r\n\r\nfunction _getContextMenu() {\r\n  const options = {\r\n    // div to apply custom context menu to\r\n    div: _fileExplorerConfig.ui.tableDiv,\r\n    // renderer for applying css and styles to entire context menu\r\n    // 'menuRenderer': null,\r\n    // renderer for applying css and styles to each row in the context menu\r\n    // 'itemRenderer': null,\r\n    // menu items and sub items\r\n    items: {\r\n      Download: _downloadFile,\r\n      Add: {\r\n        Folder: _addFolder,\r\n        File: _addFile\r\n      },\r\n      Delete: _delete,\r\n      Rename: _rename,\r\n    }\r\n  };\r\n  contextmenuator.init(options);\r\n}\r\n\r\nfunction _getFolderView(dataModelIndex, data) {\r\n  // capture state of folder view\r\n  _fileExplorerFolderView = {\r\n    dataModelIndex: dataModelIndex,\r\n    data: data\r\n  };\r\n  // destroy existing table\r\n  const table = document.getElementById(_fileExplorerConfig.ui.tableDiv);\r\n  while (table.firstChild) {\r\n    table.removeChild(table.lastChild);\r\n  }\r\n  // construct new table\r\n  const options = {\r\n    div: _fileExplorerConfig.ui.tableDiv,\r\n    data: data,\r\n    // renderer: null,\r\n    headers: {\r\n      displayNames: true,\r\n      sourceNames: ['NAME', 'SIZE', 'LAST_EDIT_DATE'],\r\n      names: ['Name', 'Size', 'Last Edit Date'],\r\n      widths: ['50%', '25%', '25%'],\r\n      alignment: ['left', 'center', 'center'],\r\n      // renderer: null\r\n    },\r\n    rows: {\r\n      // renderer: null,\r\n      rowTypeIcons: 'filesystem'\r\n    },\r\n    cells: {\r\n      // onClick: null,\r\n      onDblClick: function (tr, td, rowNo, rowData) {\r\n        // find position of filePath in tree data\r\n        const treePos = _findPositionInTree(rowData.FILE_PATH, _fileExplorerDataModel);\r\n        // update tree single & double clicked row\r\n        _updateTreeClickedItem(treePos);\r\n        // update breadcrumb menu\r\n        _reloadBreadCrumb(_fileExplorerDataModel[treePos], _fileExplorerDataModel);\r\n        // update directory\r\n        if (rowData.ICON_TYPE === 'folder') {\r\n          // get all children of current row\r\n          const children = treeator.getChildren(treePos, _fileExplorerDataModel);\r\n          const folderData = _addEmptyRow(children, _fileExplorerDataModel[treePos].FILE_PATH);\r\n          _getFolderView(treePos, folderData);\r\n        } else {\r\n          // TO DO - Display a drawer or information panel on clicked item\r\n        }\r\n      },\r\n      // onHover: null,\r\n      // renderer: null\r\n    }\r\n  };\r\n  tableator.init(options);\r\n  _getContextMenu();\r\n}\r\n\r\nfunction _getFileFolderDetails(change) {\r\n  const o = {\r\n    oldFilePath: '',\r\n    newFilePath: '',\r\n    newName: '',\r\n  };\r\n  if (change.TYPE === 'folder') {\r\n    o.oldFilePath = `/${change.OLD_DIR}/${change.OLD_FOLDER}`;\r\n    o.newFilePath = `/${change.NEW_DIR}/${change.NEW_FOLDER}`;\r\n    o.newName = change.NEW_FOLDER;\r\n  } else if (change.TYPE === 'file') {\r\n    o.oldFilePath = `/${change.OLD_DIR}/${change.OLD_FILE}`;\r\n    o.newFilePath = `/${change.NEW_DIR}/${change.NEW_FILE}`;\r\n    o.newName = change.NEW_FILE;\r\n  }\r\n  return o;\r\n}\r\n\r\nfunction _getUpdateRecord(change) {\r\n  const d = _getFileFolderDetails(change);\r\n  // determine position of item to update\r\n  const position = _findPositionInTree(d.oldFilePath, _fileExplorerDataModel);\r\n  // create change configuration for tree updates\r\n  return {\r\n    position: position,\r\n    // updates to data structure\r\n    updates: [\r\n      {\r\n        property: 'NAME',\r\n        value: d.newName\r\n      }, {\r\n        property: 'FILE_PATH',\r\n        value: d.newFilePath\r\n      }\r\n    ],\r\n    childUpdates: [\r\n      {\r\n        property: 'FILE_PATH',\r\n        findStartsWithString: d.oldFilePath,\r\n        replaceString: d.newFilePath\r\n      }\r\n    ],\r\n    // updates to user interface\r\n    htmlUpdates: [\r\n      {\r\n        column: 0,\r\n        value: d.newName\r\n      }\r\n    ]\r\n  };\r\n}\r\n\r\nfunction _getAddRecord(change, tableDepth, tableIndex) {\r\n  // create record to insert into interface at appropriate locations\r\n  const row = {\r\n    // calculate depth of row to insert\r\n    DATA_DEPTH: tableDepth + 1,\r\n    NAME: change.NAME,\r\n    ICON_TYPE: change.ICON_TYPE,\r\n    SIZE: change.SIZE,\r\n    LAST_EDIT_DATE: change.LAST_EDIT_DATE,\r\n    FILE_PATH: change.FILE_PATH\r\n  };\r\n  // determine position to insert new record into tree\r\n  const position = treeator.findLastChild(tableIndex || 0, _fileExplorerDataModel);\r\n  // create change configuration for tree updates\r\n  return {\r\n    position: position + 1,\r\n    data: row\r\n  };\r\n}\r\n\r\nfunction _getDeleteRecord(change) {\r\n  // determine position of item to delete\r\n  const position = _findPositionInTree(change.FILE_PATH, _fileExplorerDataModel);\r\n  // create change configuration for tree updates\r\n  return {\r\n    position: position\r\n  };\r\n}\r\n\r\nfunction _updateTree(changeType, records) {\r\n  if (changeType === 'add') {\r\n    // add elements to tree and push passed updates to tree data model.\r\n    treeator.appendTreeRecords(records);\r\n  } else if (changeType === 'delete') {\r\n    // add elements to tree and push passed updates to tree data model.\r\n    treeator.removeTreeRecords(records);\r\n  } else if (changeType === 'update') {\r\n    // add elements to tree and push passed updates to tree data model.\r\n    treeator.updateTreeRecords(records);\r\n  }\r\n}\r\n\r\nfunction _updateUserInterface(changes, changeType) {\r\n  const records = [];\r\n  const tableIndex = _fileExplorerFolderView.dataModelIndex;\r\n  let tableDepth = -1;\r\n  // check if a folder has been loaded\r\n  if (tableIndex || tableIndex === 0) {\r\n    tableDepth = _fileExplorerDataModel[tableIndex].DATA_DEPTH;\r\n  }\r\n  // loop through list of changes returned by server\r\n  for (let i = 0; i < changes.length; i++) {\r\n    const change = changes[i];\r\n    let record;\r\n    if (changeType === 'add') {\r\n      // prepare data for updating the file tree\r\n      record = _getAddRecord(change, tableDepth, tableIndex);\r\n      records.push(record);\r\n      // update table data model so that table is refreshed with correct information on rebuild\r\n      // push to second last position in table so it appears above the \"add new row\" placeholder\r\n      _fileExplorerFolderView.data.splice(_fileExplorerFolderView.data.length - 1, 0, record.data);\r\n    } else if (changeType === 'delete') {\r\n      // prepare data for updating the file tree\r\n      record = _getDeleteRecord(change);\r\n      records.push(record);\r\n      // find position of record in folder view\r\n      const index = _findPositionInTree(change.FILE_PATH, _fileExplorerFolderView.data);\r\n      // remove record from index in folder view\r\n      _fileExplorerFolderView.data.splice(index, 1);\r\n    } else if (changeType === 'update') {\r\n      // prepare data for updating the file tree\r\n      record = _getUpdateRecord(change);\r\n      records.push(record);\r\n      // update record details\r\n      const d = _getFileFolderDetails(change);\r\n      const oldFilePath = d.oldFilePath;\r\n      const newFilePath = d.newFilePath;\r\n      const newName = d.newName;\r\n      const index = _findPositionInTree(oldFilePath, _fileExplorerFolderView.data);\r\n      const updateRecord = _fileExplorerFolderView.data[index];\r\n      updateRecord.NAME = newName;\r\n      updateRecord.FILE_PATH = newFilePath;\r\n    }\r\n  }\r\n  // total rebuild of table\r\n  _getFolderView(tableIndex, _fileExplorerFolderView.data);\r\n  // update existing tree\r\n  _updateTree(changeType, records);\r\n}\r\n\r\nfunction _getTree(data) {\r\n  const treeOptions = {\r\n    tree: {\r\n      div: _fileExplorerConfig.ui.treeDiv,\r\n      data: data,\r\n      // renderer: null,\r\n      columns: {\r\n        sourceNames: ['NAME'],\r\n        newNames: ['name'],\r\n        widths: [250],\r\n        alignment: ['left']\r\n      },\r\n      rows: {\r\n        // collapseIcon: null,\r\n        // expandIcon: null,\r\n        rowTypeIcons: 'filesystem',\r\n        // renderer: null,\r\n        // onClick: null,\r\n        onDblClick: function (tr, row, pos) {\r\n          _reloadBreadCrumb(row, data);\r\n          _reloadTable(row, pos, data);\r\n        },\r\n        // onHover: null,\r\n        // onHoverOut: null\r\n      },\r\n      cells: {\r\n        // renderer: null\r\n      }\r\n    },\r\n    search: {\r\n      div: `${_fileExplorerConfig.ui.treeSearchDiv}_input`\r\n    }\r\n  };\r\n  return treeOptions;\r\n}\r\n\r\nfunction _getToolbarSearch() {\r\n  const toolbarSearchOptions = {\r\n    div: _fileExplorerConfig.ui.tableSearchDiv,\r\n    // Custom renderer required to override default name of element so that the\r\n    // treeator search has a unique element to target\r\n    renderer: function inputRenderer() {\r\n      const e = {};\r\n      e.id = `${_fileExplorerConfig.ui.tableSearchDiv}_input`;\r\n      e.name = 'search';\r\n      e.placeholder = 'Search Folder';\r\n      e.style = {\r\n        'font-size': '16px',\r\n        'font-family': 'roboto',\r\n        padding: '10px',\r\n        boxSizing: 'border-box',\r\n        width: '100%',\r\n        border: 'solid 1px rgba(0,0,0,.125)',\r\n        borderRadius: '3px',\r\n        textIndent: '30px',\r\n        backgroundColor: 'rgba(241,243,244,1)'\r\n      };\r\n      return e;\r\n    },\r\n    // onClick: null,\r\n    // onFocusOut: null,\r\n    // onHover: null,\r\n    onKeyUp: function () {\r\n      tableator.searchTable(_fileExplorerConfig.ui.tableDiv, `${_fileExplorerConfig.ui.tableSearchDiv}_input`);\r\n    },\r\n    icon: {\r\n      // innerHTML: null,\r\n      // renderer: null\r\n    }\r\n  };\r\n  inputator.init(toolbarSearchOptions);\r\n}\r\n\r\nfunction _getTreeSearch(treeOptions) {\r\n  const treeSearchOptions = {\r\n    div: _fileExplorerConfig.ui.treeSearchDiv,\r\n    renderer: function inputRenderer() {\r\n      const e = {};\r\n      // give input a unique name to avoid conflicts with other search boxes\r\n      e.id = `${_fileExplorerConfig.ui.treeSearchDiv}_input`;\r\n      // set value of input so file tree loads with default filter\r\n      e.value = _fileExplorerConfig.defaultTreeSearchValue || '';\r\n      e.name = 'search';\r\n      e.placeholder = 'Search Directory';\r\n      e.style = {\r\n        'font-size': '16px',\r\n        'font-family': 'roboto',\r\n        padding: '10px',\r\n        boxSizing: 'border-box',\r\n        width: '100%',\r\n        border: 'solid 1px rgba(0,0,0,.125)',\r\n        borderRadius: '3px',\r\n        textIndent: '30px',\r\n        backgroundColor: 'rgba(241,243,244,1)'\r\n      };\r\n      return e;\r\n    },\r\n    // onClick: null,\r\n    // onFocusOut: null,\r\n    // onHover: null,\r\n    onKeyUp: function () {\r\n      treeator.searchTable(`${_fileExplorerConfig.ui.treeSearchDiv}_input`, 'treeator-tree', _fileExplorerConfig.ui.treeDiv, treeOptions);\r\n    },\r\n    icon: {\r\n      // innerHTML: null,\r\n      // renderer: null\r\n    }\r\n  };\r\n  inputator.init(treeSearchOptions);\r\n}\r\n\r\nfunction _getFileSystemData() {\r\n  // define request config\r\n  const options = {\r\n    method: 'GET',\r\n    url: _fileExplorerConfig.api.directory,\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  };\r\n  // send ajax request to server\r\n  return http.sendRequest(options);\r\n}\r\n\r\n/* ============================== Public Methods ============================ */\r\n\r\nfunction init(config) {\r\n  // sets functions containing object property\r\n  _fileExplorerConfig = config;\r\n  // get file system data for navigating\r\n  // store data in global object so it can be shared between all modules\r\n  _getFileSystemData().then(function (res) {\r\n    const data = JSON.parse(res);\r\n    _fileExplorerDataModel = data[0].data;\r\n    // construct tree view of data\r\n    const treeOptions = _getTree(_fileExplorerDataModel);\r\n    _getBreadcrumb([]);\r\n    _getToolbarSearch();\r\n    _getTreeSearch(treeOptions);\r\n    // tree must be initialised after input so it pre loads with a filter if applicable\r\n    treeator.init(treeOptions);\r\n    _getFolderView(null, _addEmptyRow([], _fileExplorerDataModel[0].FILE_PATH));\r\n  });\r\n}\r\n\r\n/* =========================== Export Public APIs =========================== */\r\n\r\nmodule.exports = {\r\n  init\r\n};","module.exports = breadcrumbjs;","module.exports = inputator;","module.exports = treeator;","module.exports = tableator;","module.exports = contextmenuator;","module.exports = modalator;","// /*!\r\n//  * ECMA6 (ES Modules) Boilerplate\r\n//  * Based on the Revealing Module Design Pattern\r\n//  * (c) 2020 Joshua Adams\r\n//  */\r\n\r\n// /* ============================== Import Modules ============================ */\r\n\r\n// // N/A\r\n\r\n// /* ================================ Variables =============================== */\r\n\r\n// import httpComms from '/src/js/http-comms.js';\r\n\r\n// /* ============================= Private Methods ============================ */\r\n\r\n// function _testAddFolderApi() {\r\n//   const payload = [{\r\n//     dir: 'assets',\r\n//     folder: 'test_dir3'\r\n//   }, {\r\n//     dir: 'assets',\r\n//     folder: 'test_dir4'\r\n//   }];\r\n//   const options = {\r\n//     method: 'POST'\r\n//     , url: 'api/ftp/add/folder'\r\n//     , payload: payload\r\n//     , headers: {\r\n//       // content type automatically assigned by form data\r\n//       'Content-Type': 'application/json'\r\n//     }\r\n//   }\r\n//   httpComms.sendRequest(options).then(function (res) {\r\n//     console.log(res);\r\n//   });\r\n// }\r\n\r\n// function _testDeleteFileApi() {\r\n//   let payload = [{\r\n//     dir: 'assets',\r\n//     file: 'test.txt'\r\n//   }, {\r\n//     dir: 'assets',\r\n//     file: 'test - Copy.txt'\r\n//   }];\r\n//   const options = {\r\n//     method: 'POST'\r\n//     , url: 'api/ftp/delete/file'\r\n//     , payload: payload\r\n//     , headers: {\r\n//       // content type automatically assigned by form data\r\n//       'Content-Type': 'application/json'\r\n//     }\r\n//   }\r\n//   httpComms.sendRequest(options).then(function (res) {\r\n//     console.log(res);\r\n//   });\r\n// }\r\n\r\n// function _testDeleteFolderApi() {\r\n//   let payload = [{\r\n//     dir: 'assets',\r\n//     folder: 'test_dir1'\r\n//   }, {\r\n//     dir: 'assets',\r\n//     folder: 'test_dir2'\r\n//   }];\r\n//   const options = {\r\n//     method: 'POST'\r\n//     , url: 'api/ftp/delete/folder'\r\n//     , payload: payload\r\n//     , headers: {\r\n//       // content type automatically assigned by form data\r\n//       'Content-Type': 'application/json'\r\n//     }\r\n//   }\r\n//   httpComms.sendRequest(options).then(function (res) {\r\n//     console.log(res);\r\n//   });\r\n// }\r\n\r\n// function _testUpdateFileApi() {\r\n//   let payload = [{\r\n//     old_dir: 'assets',\r\n//     old_file: 'rename_me.txt',\r\n//     new_dir: 'assets',\r\n//     new_file: 'i_am_renamed.txt'\r\n//   }, {\r\n//     old_dir: 'assets',\r\n//     old_file: 'rename_me2.txt',\r\n//     new_dir: 'assets',\r\n//     new_file: 'i_am_renamed_2.txt'\r\n//   }];\r\n//   const options = {\r\n//     method: 'POST'\r\n//     , url: 'api/ftp/update/file'\r\n//     , payload: payload\r\n//     , headers: {\r\n//       // content type automatically assigned by form data\r\n//       'Content-Type': 'application/json'\r\n//     }\r\n//   }\r\n//   httpComms.sendRequest(options).then(function (res) {\r\n//     console.log(res);\r\n//   });\r\n// }\r\n\r\n// function _testUpdateFolderApi() {\r\n//   let payload = [{\r\n//     old_dir: 'assets',\r\n//     old_folder: 'test_dir',\r\n//     new_dir: 'assets',\r\n//     new_folder: 'test_dir_renamed'\r\n//   }, {\r\n//     old_dir: 'assets',\r\n//     old_folder: 'test_dir - Copy',\r\n//     new_dir: 'assets',\r\n//     new_folder: 'test_dir - Copy_renamed'\r\n//   }];\r\n//   const options = {\r\n//     method: 'POST'\r\n//     , url: 'api/ftp/update/folder'\r\n//     , payload: payload\r\n//     , headers: {\r\n//       // content type automatically assigned by form data\r\n//       'Content-Type': 'application/json'\r\n//     }\r\n//   }\r\n//   httpComms.sendRequest(options).then(function (res) {\r\n//     console.log(res);\r\n//   });\r\n// }\r\n\r\n// /* ============================== Public Methods ============================ */\r\n\r\n// function testApis() {\r\n//   _testAddFolderApi();\r\n//   _testDeleteFileApi();\r\n//   _testDeleteFolderApi();\r\n//   _testUpdateFileApi();\r\n//   _testUpdateFolderApi();\r\n// }\r\n\r\n// /* =========================== Export Public APIs =========================== */\r\n\r\n// export default {\r\n//   testApis\r\n// };\r\n"],"sourceRoot":""}